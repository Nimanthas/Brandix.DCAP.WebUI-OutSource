#pragma checksum "C:\Projects\DCap\App\Brandix.DCAP.WebUI - OutSource\Views\Home\ManagePackingList.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "34a0cfa94997b4cce5b4f0f5b5aeb28472a8d287"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_ManagePackingList), @"mvc.1.0.view", @"/Views/Home/ManagePackingList.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Home/ManagePackingList.cshtml", typeof(AspNetCore.Views_Home_ManagePackingList))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Projects\DCap\App\Brandix.DCAP.WebUI - OutSource\Views\_ViewImports.cshtml"
using Brandix.DCAP.WebUI;

#line default
#line hidden
#line 2 "C:\Projects\DCap\App\Brandix.DCAP.WebUI - OutSource\Views\_ViewImports.cshtml"
using Brandix.DCAP.WebUI.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"34a0cfa94997b4cce5b4f0f5b5aeb28472a8d287", @"/Views/Home/ManagePackingList.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d6ac14fb493c2990ba4a5667bd32d8705427078c", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_ManagePackingList : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 1 "C:\Projects\DCap\App\Brandix.DCAP.WebUI - OutSource\Views\Home\ManagePackingList.cshtml"
  
    Layout = "_Layout";

#line default
#line hidden
            BeginContext(32, 2678, true);
            WriteLiteral(@"
<script type=""text/javascript"">

    var packingListTable = null;
    var rowdata = null;

    getSessionInfo();

    $(document).ready(function () {
        $('#sitebody').removeClass('body-login');
        $(""#sitebody"").append(
            '<div id=""ajaxBusy"" class=""ajaxBusy""></div>'
        );
        $(""#ajaxBusy"").hide();
        checkLoginStatus();
        $('#pageTitleBar').html('<i class=""fas fa-barcode pageMainIcon""></i><span class=""pageTitle"">DCap - Upload Packing List</span>');

        initializeControls();

        checkIdle();

        if (isValidClient == Answer.Null) {
            window.location.href = ""Login"";
        }
        else if (isValidClient != null && clientconfig.dataCaptureMode != DataCaptureMode.Bulk) {
            if (clientconfig.dataCaptureMode == DataCaptureMode.Barcode) {
                msgBox.show('මෙම යන්ත්‍රයට අප්ඩේට් කිරීම සඳහා අවසර නැත.', 'This device is not authorized for Bulk update', 'අවවාදයයි / Warning', 'BU01', 'Warning', function () {");
            WriteLiteral(@"
                    if (clientconfig.dataCaptureMode == DataCaptureMode.Washing) {
                        window.location.href = ""Menu"";
                    }
                });
            }
        }
    });

    
    function checkLoginStatus() {
        if (sessionStorage.getItem(""UserId"") != """") {
            $(""#toolBarLoggedinUser"").html(sessionStorage.getItem(""UserId""));
        } else {
            $(""#toolBarLoggedinUser"").html("""");
        }
        if (sessionStorage.getItem(""IsSignedIn"") == Answer.Null || sessionStorage.getItem(""IsSignedIn"") == Answer.No) {
            $(""#loginBar"").hide();
            window.location.href = ""Login"";
        } else {
            $(""#loginBar"").show();
        }
    }

    function initializeControls() { 
        $(""#StatusFilter"").kendoDropDownList({""dataSource"":[{""Text"":""All"",""Value"":""0""},
                                                            {""Text"":""Pending Approval"",""Value"":""1""},
                                           ");
            WriteLiteral(@"                 {""Text"":""Approved - Not Send"",""Value"":""2""},
                                                            {""Text"":""Security Passed"",""Value"":""3""},
                                                            {""Text"":""Security Recieved"",""Value"":""4""},
                                                            {""Text"":""Closed"",""Value"":""5""}],
                                                ""dataTextField"":""Text"",""dataValueField"":""Value""});

        $(""#MonthFilter"").kendoDatePicker({format:""yyyy-MM-dd"",min:new Date(1900,0,1,0,0,0,0),max:new Date(2099,11,31,0,0,0,0)});

        $.ajax({
            url: '");
            EndContext();
            BeginContext(2711, 14, false);
#line 66 "C:\Projects\DCap\App\Brandix.DCAP.WebUI - OutSource\Views\Home\ManagePackingList.cshtml"
             Write(ViewBag.APIURL);

#line default
#line hidden
            EndContext();
            BeginContext(2725, 810, true);
            WriteLiteral(@"/Lookup/GetFactoryNames',
            type: 'GET',
            dataType: 'json',
            async: false,
            contentType: 'application/json',
            beforeSend: function () {
                $(""#ajaxBusy"").show();
            },
            complete: function () {
                $(""#ajaxBusy"").hide();
            },
            success: function (response) {
                $(""#LocationToFilter"").kendoDropDownList({""dataSource"": response,filter: ""contains"",""dataTextField"": ""loc_Description"",""dataValueField"": ""loc_Code"",""optionLabel"": ""Select a location...""});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                formatErrorMessage(jqXHR, errorThrown, ""Dispatch"");
            }
        });

        $.ajax({
            url: '");
            EndContext();
            BeginContext(3536, 14, false);
#line 86 "C:\Projects\DCap\App\Brandix.DCAP.WebUI - OutSource\Views\Home\ManagePackingList.cshtml"
             Write(ViewBag.APIURL);

#line default
#line hidden
            EndContext();
            BeginContext(3550, 7616, true);
            WriteLiteral(@"/Lookup/GetUsersByFunction?FunctionId=' + AccessibleDispatchFunctions.CreateGatepass,
            type: 'GET',
            dataType: 'json',
            async: false,
            contentType: 'application/json',
            beforeSend: function () {
                $(""#ajaxBusy"").show();
            },
            complete: function () {
                $(""#ajaxBusy"").hide();
            },
            success: function (response) {
                $(""#CreatedByFilter"").kendoDropDownList({""dataSource"": response, filter: ""contains"",""dataTextField"": ""userName"",""dataValueField"": ""userId"",""optionLabel"": ""Select a user...""});
            },
            error: function (jqXHR, textStatus, errorThrown) {
                formatErrorMessage(jqXHR, errorThrown, ""Dispatch"");
            }
        });

        $(""#packingListTable"").kendoSpreadsheet({
            excel: {
                // Required to enable Excel Export in some browsers
                    proxyURL: ""https://demos.telerik.com/kend");
            WriteLiteral(@"o-ui/service/export""
            },
            toolbar: {
                home: [
                    // for all available options, see the toolbar items configuration
                    // https://docs.telerik.com/kendo-ui/api/javascript/ui/toolbar/configuration/items
                    ""open"",
                    ""exportAs"",
                    ""freeze"",
                    ""filter"",
                    {
                        type: ""button"",
                        text: ""Upload Packing List"",
                        showText: ""both"",
                        icon: ""k-icon k-i-upload"",
                        click: function() {
                            upload();
                        }
                    },
                ],
                insert: [ [""deleteColumn"", ""deleteRow""] ],
            }
        });

        packingListTable = $(""#packingListTable"").data(""kendoSpreadsheet"");
    }
    //end

    function getSessionInfo() {
        isValidClient = sessionSto");
            WriteLiteral(@"rage.getItem(""IsValidClient"");
        clientconfig = JSON.parse(sessionStorage.getItem(""Clientconfig""));
        userPermissionList = JSON.parse(sessionStorage.getItem(""UserPermissionList""));
        clientIP = sessionStorage.getItem(""ClientIP"");
    }

    function getrowdata() {
        packingListTable = $(""#packingListTable"").data(""kendoSpreadsheet"");
        //window.alert(JSON.stringify(packingListTable.toJSON().sheets[0]));

        var rows = packingListTable.toJSON().sheets[0].rows;
        if(rows.length != 0) {
            rowdata = rows;
        }
    }

    function upload() {
        packingListTable = $(""#packingListTable"").data(""kendoSpreadsheet"");

        var rows = packingListTable.toJSON().sheets[0].rows;
        //window.alert(JSON.stringify(rows));

        if(rows.length != 0) {
            var columnscells = rows[0].cells;
            if(columnscells.length != 0) {
                var tableData = [];

                for (var i = 1; i < rows.length; i++) {
");
            WriteLiteral(@"                    var cells = rows[i].cells;
                    if(cells.length != 0) {
                        var tablerow = {};
                        for (var j = 0; j < cells.length; j++) {
                            tablerow[columnscells[j].value] = cells[j].value;
                        }
                        tableData.push(tablerow);
                    }
                }

                window.alert(JSON.stringify(tableData));
            }
        }
    }

</script>


<div>
    <div class=""row"">
        <div style=""margin: 5px; margin-top: 14px;"">
            <div>
                <div style=""float: left; height: 35px; margin-right: 10px;"">
                    <div style=""float: left; width: 110px; margin-right: 10px; text-align: right; font-weight: bold;"">
                        <label for=""DateCreatedFilter"">
                            Gatepass No.
                        </label>
                    </div>
                    <div style=""float: left;"">
  ");
            WriteLiteral(@"                      <input id=""DateCreatedFilter"" class=""bu-form-control"" style=""width:180px; height: 29px; border-radius: 4px;""/>
                    </div>
                </div>
                <div style=""float: left; height: 35px; margin-right: 10px;"">
                    <div style=""float: left; width: 110px; margin-right: 10px; text-align: right; font-weight: bold;"">
                        <label for=""MonthFilter"">
                            Date
                        </label>
                    </div>
                    <div style=""float: left;"">
                        <input id=""MonthFilter"" class=""bu-form-control"" style=""width:180px""/>
                    </div>
                </div>
                <div style=""float: left; height: 35px; margin-right: 10px;"">
                    <div style=""float: left; width: 110px; margin-right: 10px; text-align: right; font-weight: bold;"">
                        <label for=""StatusFilter"">
                            Status
            ");
            WriteLiteral(@"            </label>
                    </div>
                    <div style=""float: left;"">
                        <div id=""StatusFilter"" class=""bu-form-control"" style=""width:180px""></div>
                    </div>
                </div>
                <div style=""float: left; height: 35px; margin-right: 10px;"">
                    <div style=""float: left; width: 110px; margin-right: 10px; text-align: right; font-weight: bold;"">
                        <label for=""LocationToFilter"">
                            Location To
                        </label>
                    </div>
                    <div style=""float: left;"">
                        <div id=""LocationToFilter"" class=""bu-form-control"" style=""width:180px""></div>
                    </div>
                </div>
                <div style=""float: left; height: 35px; margin-right: 10px;"">
                    <div style=""float: left; width: 110px; margin-right: 10px; text-align: right; font-weight: bold;"">
                 ");
            WriteLiteral(@"       <label for=""CreatedByFilter"">
                            Created By
                        </label>
                    </div>
                    <div style=""float: left;"">
                        <div id=""CreatedByFilter"" class=""bu-form-control"" style=""width:180px""></div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div style=""clear: both;"">
                <div style=""float: left; height: 35px; margin-right: 10px;"">
                    <div style=""float: left; width: 110px; margin-right: 10px; visibility: hidden;"">
                        Invisible text
                    </div>
                    <div style=""float: left; padding-left: 5px;"">
                        <button id=""filterGatePassRequestButton"" class=""k-button"" style=""width: 180px; padding-left: 5px; background-color: green; border: none; font-size: 17px; font-weight: 600; color: #000000;"" onclick=""RefreshRequestGrid()"">
                            <s");
            WriteLiteral(@"pan class=""k-icon k-i-search"" style=""margin-right: 7px; text-align:left;""></span><span>Search</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class=""row"">
        <div id=""example"">
            <div id=""packingListTable"" style=""width: 100%;""></div>
        </div>
    </div>
</div>


<style>
    .download { width: 260px; }
</style>
");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
